2020-05-21 11:26:46,342 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:26:46 +08:00

2020-05-21 11:26:46,352 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.Ele_Config','dbo.T_User','dbo.Ele_Shop','dbo.Mt_Config','dbo.Mt_Shop','dbo.Ele_Order','dbo.Mt_Order','dbo.Mt_OrderDtl')
    OR t.TABLE_NAME = 'EdmMetadata'
2020-05-21 11:26:46,352 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:26:46,353 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:26:46 +08:00

2020-05-21 11:26:46,366 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 11 ms with result: 8

2020-05-21 11:26:46,367 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:26:46,367 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:26:46 +08:00

2020-05-21 11:26:46,606 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:26:46 +08:00

2020-05-21 11:26:47,364 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2020-05-21 11:26:47,364 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:26:47,366 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:26:47,366 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:26:47 +08:00

2020-05-21 11:26:47,392 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 25 ms with result: SqlDataReader

2020-05-21 11:26:47,392 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:26:47,398 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:26:47 +08:00

2020-05-21 11:26:47,411 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:26:47 +08:00

2020-05-21 11:26:47,465 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2020-05-21 11:26:47,466 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:26:47,466 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:26:47,466 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:26:47 +08:00

2020-05-21 11:26:47,472 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 6 ms with result: SqlDataReader

2020-05-21 11:26:47,472 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:26:47,479 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:26:47 +08:00

2020-05-21 11:26:47,768 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:26:47 +08:00

2020-05-21 11:26:47,883 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[OrderId] AS [OrderId], 
    [Extent1].[OrderIdView] AS [OrderIdView], 
    [Extent1].[Caution] AS [Caution], 
    [Extent1].[CTime] AS [CTime], 
    [Extent1].[UTime] AS [UTime], 
    [Extent1].[DaySeq] AS [DaySeq], 
    [Extent1].[DeliveryTime] AS [DeliveryTime], 
    [Extent1].[OriginalPrice] AS [OriginalPrice], 
    [Extent1].[RecipientAddress] AS [RecipientAddress], 
    [Extent1].[RecipientName] AS [RecipientName], 
    [Extent1].[RecipientPhone] AS [RecipientPhone], 
    [Extent1].[ShippingPhone] AS [ShippingPhone], 
    [Extent1].[ShippingFee] AS [ShippingFee], 
    [Extent1].[Status] AS [Status], 
    [Extent1].[Total] AS [Total], 
    [Extent1].[IsSaled] AS [IsSaled], 
    [Extent1].[CreateDateTime] AS [CreateDateTime]
    FROM [dbo].[Mt_Order] AS [Extent1]
2020-05-21 11:26:47,883 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:26:47,883 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:26:47 +08:00

2020-05-21 11:26:47,885 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 1 ms with result: SqlDataReader

2020-05-21 11:26:47,885 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:26:47,885 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:26:47 +08:00

2020-05-21 11:31:47,793 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:31:47 +08:00

2020-05-21 11:31:47,802 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.Ele_Config','dbo.T_User','dbo.Ele_Shop','dbo.Mt_Config','dbo.Mt_Shop','dbo.Ele_Order','dbo.Mt_Order','dbo.Mt_OrderDtl')
    OR t.TABLE_NAME = 'EdmMetadata'
2020-05-21 11:31:47,803 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:31:47,803 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:31:47 +08:00

2020-05-21 11:31:47,811 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 6 ms with result: 8

2020-05-21 11:31:47,811 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:31:47,811 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:31:47 +08:00

2020-05-21 11:31:48,017 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:31:48 +08:00

2020-05-21 11:31:48,732 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2020-05-21 11:31:48,732 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:31:48,734 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:31:48,734 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:31:48 +08:00

2020-05-21 11:31:48,754 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 20 ms with result: SqlDataReader

2020-05-21 11:31:48,754 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:31:48,760 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:31:48 +08:00

2020-05-21 11:31:48,772 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:31:48 +08:00

2020-05-21 11:31:48,824 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2020-05-21 11:31:48,824 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:31:48,824 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:31:48,824 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:31:48 +08:00

2020-05-21 11:31:48,825 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 1 ms with result: SqlDataReader

2020-05-21 11:31:48,825 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:31:48,832 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:31:48 +08:00

2020-05-21 11:31:49,210 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:31:49 +08:00

2020-05-21 11:31:49,218 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Started transaction at 2020-05-21 11:31:49 +08:00

2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:DECLARE @generated_keys table([Id] uniqueidentifier)
INSERT [dbo].[T_User]([UserNo], [UserName], [ConnString], [Ket], [Description], [MtConfigId], [CreateDateTime])
OUTPUT inserted.[Id] INTO @generated_keys
VALUES (@0, @1, @2, @3, NULL, @4, @5)
SELECT t.[Id]
FROM @generated_keys AS g JOIN [dbo].[T_User] AS t ON g.[Id] = t.[Id]
WHERE @@ROWCOUNT > 0
2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @0: '01' (Type = AnsiString, Size = 20)

2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @1: '爱达乐' (Type = AnsiString, Size = 50)

2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @2: '123123abc' (Type = AnsiString, Size = 100)

2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @3: '123456' (Type = AnsiString, Size = 20)

2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @4: '00000000-0000-0000-0000-000000000000' (Type = Guid)

2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @5: '2020-05-21 11:31:46' (Type = DateTime2)

2020-05-21 11:31:49,339 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:31:49 +08:00

2020-05-21 11:31:49,359 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Failed in 19 ms with error: INSERT 语句与 FOREIGN KEY 约束"FK_dbo.T_User_dbo.Mt_Config_MtConfigId"冲突。该冲突发生于数据库"O2O"，表"dbo.Mt_Config", column 'Id'。
语句已终止。

2020-05-21 11:31:49,359 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:31:49,363 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:31:49 +08:00

2020-05-21 11:34:39,201 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:34:39 +08:00

2020-05-21 11:34:39,209 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.Ele_Config','dbo.T_User','dbo.Ele_Shop','dbo.Mt_Config','dbo.Mt_Shop','dbo.Ele_Order','dbo.Mt_Order','dbo.Mt_OrderDtl')
    OR t.TABLE_NAME = 'EdmMetadata'
2020-05-21 11:34:39,209 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:39,210 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:34:39 +08:00

2020-05-21 11:34:39,212 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 0 ms with result: 8

2020-05-21 11:34:39,212 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:39,212 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:34:39 +08:00

2020-05-21 11:34:39,409 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:34:39 +08:00

2020-05-21 11:34:40,141 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2020-05-21 11:34:40,141 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:40,143 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:34:40,143 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,162 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 19 ms with result: SqlDataReader

2020-05-21 11:34:40,163 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:40,169 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,181 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,235 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2020-05-21 11:34:40,235 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:40,235 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:34:40,235 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,236 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 0 ms with result: SqlDataReader

2020-05-21 11:34:40,236 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:40,242 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,615 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,622 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Started transaction at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,744 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:DECLARE @generated_keys table([Id] uniqueidentifier)
INSERT [dbo].[Mt_Config]([WaimaiAppId], [WaimaiAppSecret], [TuangouAppKey], [TuangouAppSecret], [CreateDateTime])
OUTPUT inserted.[Id] INTO @generated_keys
VALUES (@0, @1, @2, @3, @4)
SELECT t.[Id]
FROM @generated_keys AS g JOIN [dbo].[Mt_Config] AS t ON g.[Id] = t.[Id]
WHERE @@ROWCOUNT > 0
2020-05-21 11:34:40,744 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:40,744 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @0: '1' (Type = AnsiString, Size = 20)

2020-05-21 11:34:40,744 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @1: '2' (Type = AnsiString, Size = 50)

2020-05-21 11:34:40,744 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @2: '3' (Type = AnsiString, Size = 50)

2020-05-21 11:34:40,744 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @3: '4' (Type = AnsiString, Size = 50)

2020-05-21 11:34:40,744 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @4: '2020-05-21 11:34:37' (Type = DateTime2)

2020-05-21 11:34:40,744 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,754 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 10 ms with result: SqlDataReader

2020-05-21 11:34:40,754 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:40,758 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:DECLARE @generated_keys table([Id] uniqueidentifier)
INSERT [dbo].[T_User]([UserNo], [UserName], [ConnString], [Ket], [Description], [MtConfigId], [CreateDateTime])
OUTPUT inserted.[Id] INTO @generated_keys
VALUES (@0, @1, @2, @3, NULL, @4, @5)
SELECT t.[Id]
FROM @generated_keys AS g JOIN [dbo].[T_User] AS t ON g.[Id] = t.[Id]
WHERE @@ROWCOUNT > 0
2020-05-21 11:34:40,758 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:40,758 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @0: '01' (Type = AnsiString, Size = 20)

2020-05-21 11:34:40,758 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @1: '爱达乐' (Type = AnsiString, Size = 50)

2020-05-21 11:34:40,758 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @2: '123123abc' (Type = AnsiString, Size = 100)

2020-05-21 11:34:40,758 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @3: '123456' (Type = AnsiString, Size = 20)

2020-05-21 11:34:40,758 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @4: 'af237400-149b-ea11-93ca-d7d126e4df41' (Type = Guid)

2020-05-21 11:34:40,758 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @5: '2020-05-21 11:34:37' (Type = DateTime2)

2020-05-21 11:34:40,759 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,760 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 1 ms with result: SqlDataReader

2020-05-21 11:34:40,760 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:34:40,779 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Committed transaction at 2020-05-21 11:34:40 +08:00

2020-05-21 11:34:40,780 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:34:40 +08:00

2020-05-21 11:39:48,822 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:39:48 +08:00

2020-05-21 11:39:48,831 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.Ele_Config','dbo.T_User','dbo.Ele_Shop','dbo.Mt_Config','dbo.Mt_Shop','dbo.Ele_Order','dbo.Mt_Order','dbo.Mt_OrderDtl')
    OR t.TABLE_NAME = 'EdmMetadata'
2020-05-21 11:39:48,831 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:39:48,831 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:39:48 +08:00

2020-05-21 11:39:48,833 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 0 ms with result: 8

2020-05-21 11:39:48,833 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:39:48,833 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:39:48 +08:00

2020-05-21 11:39:49,027 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:39:49 +08:00

2020-05-21 11:39:49,750 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2020-05-21 11:39:49,750 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:39:49,752 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:39:49,752 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:39:49 +08:00

2020-05-21 11:39:49,771 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 18 ms with result: SqlDataReader

2020-05-21 11:39:49,771 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:39:49,777 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:39:49 +08:00

2020-05-21 11:39:49,788 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:39:49 +08:00

2020-05-21 11:39:49,842 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2020-05-21 11:39:49,842 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:39:49,842 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:39:49,842 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:39:49 +08:00

2020-05-21 11:39:49,842 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 0 ms with result: SqlDataReader

2020-05-21 11:39:49,842 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:39:49,849 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:39:49 +08:00

2020-05-21 11:39:50,197 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:39:50 +08:00

2020-05-21 11:39:50,204 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Started transaction at 2020-05-21 11:39:50 +08:00

2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:DECLARE @generated_keys table([Id] uniqueidentifier)
INSERT [dbo].[T_User]([UserNo], [UserName], [ConnString], [Ket], [Description], [MtConfigId], [CreateDateTime])
OUTPUT inserted.[Id] INTO @generated_keys
VALUES (@0, @1, @2, @3, NULL, @4, @5)
SELECT t.[Id]
FROM @generated_keys AS g JOIN [dbo].[T_User] AS t ON g.[Id] = t.[Id]
WHERE @@ROWCOUNT > 0
2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @0: '01' (Type = AnsiString, Size = 20)

2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @1: '爱达乐' (Type = AnsiString, Size = 50)

2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @2: '123123abc' (Type = AnsiString, Size = 100)

2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @3: '123456' (Type = AnsiString, Size = 20)

2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @4: '00000000-0000-0000-0000-000000000000' (Type = Guid)

2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- @5: '2020-05-21 11:39:47' (Type = DateTime2)

2020-05-21 11:39:50,316 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:39:50 +08:00

2020-05-21 11:39:50,321 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Failed in 4 ms with error: INSERT 语句与 FOREIGN KEY 约束"FK_dbo.T_User_dbo.Mt_Config_MtConfigId"冲突。该冲突发生于数据库"O2O"，表"dbo.Mt_Config", column 'Id'。
语句已终止。

2020-05-21 11:39:50,321 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:39:50,325 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:39:50 +08:00

2020-05-21 11:40:39,317 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:40:39 +08:00

2020-05-21 11:40:39,325 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.Ele_Config','dbo.T_User','dbo.Ele_Shop','dbo.Mt_Config','dbo.Mt_Shop','dbo.Ele_Order','dbo.Mt_Order','dbo.Mt_OrderDtl')
    OR t.TABLE_NAME = 'EdmMetadata'
2020-05-21 11:40:39,325 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:40:39,326 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:40:39 +08:00

2020-05-21 11:40:39,328 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 0 ms with result: 8

2020-05-21 11:40:39,328 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:40:39,328 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:40:39 +08:00

2020-05-21 11:40:39,523 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:40:39 +08:00

2020-05-21 11:40:40,217 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2020-05-21 11:40:40,217 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:40:40,218 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:40:40,218 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:40:40 +08:00

2020-05-21 11:40:40,239 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 20 ms with result: SqlDataReader

2020-05-21 11:40:40,239 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:40:40,245 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:40:40 +08:00

2020-05-21 11:40:40,256 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:40:40 +08:00

2020-05-21 11:40:40,310 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2020-05-21 11:40:40,310 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:40:40,310 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:40:40,310 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:40:40 +08:00

2020-05-21 11:40:40,310 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 0 ms with result: SqlDataReader

2020-05-21 11:40:40,310 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:40:40,317 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:40:40 +08:00

2020-05-21 11:41:40,667 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:41:40 +08:00

2020-05-21 11:41:40,676 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.Ele_Config','dbo.T_User','dbo.Ele_Shop','dbo.Mt_Config','dbo.Mt_Shop','dbo.Ele_Order','dbo.Mt_Order','dbo.Mt_OrderDtl')
    OR t.TABLE_NAME = 'EdmMetadata'
2020-05-21 11:41:40,676 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:41:40,677 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:41:40 +08:00

2020-05-21 11:41:40,679 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 0 ms with result: 8

2020-05-21 11:41:40,679 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:41:40,679 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:41:40 +08:00

2020-05-21 11:41:40,887 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:41:40 +08:00

2020-05-21 11:41:41,577 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2020-05-21 11:41:41,577 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:41:41,579 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:41:41,579 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:41:41 +08:00

2020-05-21 11:41:41,598 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 19 ms with result: SqlDataReader

2020-05-21 11:41:41,598 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:41:41,604 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:41:41 +08:00

2020-05-21 11:41:41,616 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Opened connection at 2020-05-21 11:41:41 +08:00

2020-05-21 11:41:41,668 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:SELECT TOP (1) 
    [Project1].[C1] AS [C1], 
    [Project1].[MigrationId] AS [MigrationId], 
    [Project1].[Model] AS [Model], 
    [Project1].[ProductVersion] AS [ProductVersion]
    FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId], 
        [Extent1].[Model] AS [Model], 
        [Extent1].[ProductVersion] AS [ProductVersion], 
        1 AS [C1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [Project1]
    ORDER BY [Project1].[MigrationId] DESC
2020-05-21 11:41:41,668 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:41:41,668 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- p__linq__0: 'O2O.Service.Migrations.Configuration' (Type = String, Size = 4000)

2020-05-21 11:41:41,668 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Executing at 2020-05-21 11:41:41 +08:00

2020-05-21 11:41:41,669 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:-- Completed in 0 ms with result: SqlDataReader

2020-05-21 11:41:41,669 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:

2020-05-21 11:41:41,675 [12] DEBUG O2O.Service.O2OContext - EF执行SQL:Closed connection at 2020-05-21 11:41:41 +08:00

